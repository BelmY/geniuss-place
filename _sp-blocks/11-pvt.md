---
title: "PVT"
permalink: /docs/sp-blocks/pvt/
excerpt: "Documentation for the PVT block"
sidebar:
  nav: "sp-block"
modified: 2016-04-13T15:54:02-04:00
---
{% include toc %}

The _PVT_ block is the last one in the GNSS-SDR flow graph. Hence, it acts as a signal sink, since the stream of data flowing along the receiver ends here.

The role of a _PVT_ block is to compute navigation solutions and deliver information in adequate formats for further processing or data representation.
{: .notice--info}

Depending on the specific application or service that is exploiting the information provided by GNSS-SDR, different internal data will be required, and thus the receiver needs to provide such data in an adequate, standard formats:

* For Geographic Information Systems, map representation and Earth browsers: [KML](http://www.opengeospatial.org/standards/kml){:target="_blank"} and [GeoJSON](http://geojson.org/){:target="_blank"}.
* For sensor integration: [NMEA-0183](https://en.wikipedia.org/wiki/NMEA_0183){:target="_blank"}.
* For post-processing applications: RINEX [2.11](https://igscb.jpl.nasa.gov/igscb/data/format/rinex211.txt){:target="_blank"} and [3.02](ftp://igs.org/pub/data/format/rinex302.pdf){:target="_blank"}.
* For real-time, possibly networked processing: [RTCM-104](http://www.rtcm.org/Pub-DGNSS.php){:target="_blank"} messages, v3.2.


In _PVT_ implementations that support it, KML files are generated automatically by default, upon the computation of the first position fix.

In _PVT_ implementations that support it, GNSS-SDR by default generates RINEX version [3.02](https://igscb.jpl.nasa.gov/igscb/data/format/rinex302.pdf){:target="_blank"}. If [2.11](https://igscb.jpl.nasa.gov/igscb/data/format/rinex211.txt){:target="_blank"} is needed, it can be requested through a commandline flag when invoking the software receiver:

   ```
   $ gnss-sdr --RINEX_version=2
   ```

In _PVT_ implementations that support it, the TCP/IP server of RTCM messages can be enabled by setting ```PVT.flag_rtcm_server=true``` in the configuration file, and will be active during the execution of the software receiver. By default, the server will operate on port 2101 (which is the recommended port for RTCM services according to the Internet Assigned Numbers Authority, [IANA](http://www.iana.org/assignments/service-names-port-numbers "Service Name and Transport Protocol Port Number Registry"){:target="_blank"}), and will identify the Reference Station with ID=1234. This behaviour can be changed through the configuration file.


**Important:** In order to get well-formatted GeoJSON, KML and RINEX files, always terminate ```gnss-sdr``` execution by pressing key '`q`' and then key '`ENTER`'. Those files will be automatically deleted if no position fix have been obtained during the execution of the software receiver.
{: .notice--warning}

Read more about standard output formats at our [**Interoperability**]({{ site.url }}{{ site.baseurl }}/design-forces/interoperability/){:target="_blank"} page.
{: .notice--success}

### Implementation: `GPS_L1_CA_PVT`

This _PVT_ implementation computes position fixes usign GPS L1 C/A signals and a basic, memoryless Least Squares solution. Those solutions are exported to KML and GeoJSON formats for their graphical representation.

In addition, observation and navigation RINEX files are also generated by default.

If configured, this block delivers NMEA messages in real-time through a serial port.

If configured, this block also generates RTCM messages in real-time, delivered through a TCP server.

Parameters:

|----------
|  **Global Parameter**  |  **Description** | **Type** |
|:-:|:--|:-:|    
|--------------
| `GNSS-SDR.SUPL_gps_ephemeris_xml` |  Name of an XML file containing GPS ephemeris data. It defaults to `./gps_ephemeris.xml` | Optional |
|--------------


|----------
|  **Parameter**  |  **Description** | **Type** |
|:-:|:--|:-:|    
|--------------
| `flag_averaging` |  Perfoms averaging over the internally generated results before outputting them. It defaults to `false`. | Optional |
| `averaging_depth` | If `flag_averaging` is set to `true`, size of the buffer performing a moving average. It defaults to 10. | Optional |
| `output_rate_ms` |  Rate at which PVT solutions will be computed, in ms. It defaults to 500 ms. | Optional |
| `display_rate_ms` |  Rate at which PVT solutions will be displayed in the terminal, in ms. It defaults to 500 ms. | Optional |
| `nmea_dump_filename` | Name of the file containing the generated NMEA sentences in ASCII format. It defaults to `./nmea_pvt.nmea`. | Optional |
| `flag_nmea_tty_port` | [`true`, `false`]: If set to `true`, the NMEA sentences are also sent to a serial port device. It defaults to `false`. | Optional |
| `nmea_dump_devname` | If `flag_nmea_tty_port` is set to `true`, descriptor of the serial port device.  It defaults to `/dev/tty1`. | Optional |
| `flag_rtcm_server` |  [`true`, `false`]: If set to `true`, it runs up a TCP server that is serving RTCM messages to the connected clients during the execution of the software receiver. It defaults to `false`. | Optional |
| `rtcm_tcp_port` | If `flag_rtcm_server` is set to `true`, TCP port from which the RTCM messages will be served. It defaults to 2101. | Optional |
| `rtcm_station_id` | Station ID reported in the generated RTCM messages. It defaults to 1234. | Optional |
| `rtcm_MT1019_rate_ms` | Rate at which RTCM Message Type 1019 (GPS Ephemeris data) will be generated, in ms. It defaults to 5000 ms. | Optional |
| `rtcm_MSM_rate_ms` | Rate at which RTCM Multiple Signal Messages GPS MSM7 (MT1077 - Full GPS observations) will be generated, in ms. It defaults to 1000 ms.  | Optional |
| `flag_rtcm_tty_port` | [`true`, `false`]: If set to `true`, the generated RTCM messages are also sent to a serial port device. It defaults to `false`. | Optional |
| `rtcm_dump_devname` |  If `flag_rtcm_tty_port` is set to `true`, descriptor of the serial port device. . It defaults to `/dev/pts/1`. | Optional |
| `dump` |  [`true`, `false`]: if set to `true`, it enables the PVT internal binary data file logging. It defaults to `false`. | Optional |
| `dump_filename` |  If `dump` is set to `true`, name of the file in which internal data will be stored. It defaults to `./pvt.dat`. | Optional |
|----------

Example:

```ini
;######### PVT CONFIG ############
PVT.implementation=GPS_L1_CA_PVT
PVT.nmea_dump_filename=./gnss_sdr_pvt.nmea ; NMEA log path and filename
PVT.flag_nmea_tty_port=true ; Enable the NMEA log to a serial TTY port
PVT.nmea_dump_devname=/dev/pts/4 ; serial device descriptor for NMEA log
```


### Implementation: `Galileo_E1_PVT`

This _PVT_ implementation computes position fixes usign Galileo E1B signals and a basic, memoryless Least Squares solution. Those solutions are exported to KML and GeoJSON formats for their graphical representation.

In addition, observation and navigation RINEX files are also generated by default.

If configured, this block delivers NMEA messages in real-time through a serial port.

If configured, this block also generates RTCM messages in real-time, delivered through a TCP server.

Parameters:

|----------
|  **Parameter**  |  **Description** | **Type** |
|:-:|:--|:-:|    
|--------------
| `flag_averaging` |  Perfoms averaging over the internally generated results before outputting them. It defaults to `false`. | Optional |
| `averaging_depth` | If `flag_averaging` is set to `true`, size of the buffer performing a moving average. It defaults to 10. | Optional |
| `output_rate_ms` |  Rate at which PVT solutions will be computed, in ms. It defaults to 500 ms. | Optional |
| `display_rate_ms` |  Rate at which PVT solutions will be displayed in the terminal, in ms. It defaults to 500 ms. | Optional |
| `nmea_dump_filename` | Name of the file containing the generated NMEA sentences in ASCII format. It defaults to `./nmea_pvt.nmea`. | Optional |
| `flag_nmea_tty_port` | [`true`, `false`]: If set to `true`, the NMEA sentences are also sent to a serial port device. It defaults to `false`. | Optional |
| `nmea_dump_devname` | If `flag_nmea_tty_port` is set to `true`, descriptor of the serial port device. It defaults to `/dev/tty1`. | Optional |
| `flag_rtcm_server` |  [`true`, `false`]: If set to `true`, it runs up a TCP server that is serving RTCM messages to the connected clients during the execution of the software receiver. It defaults to `false`. | Optional |
| `rtcm_tcp_port` | If `flag_rtcm_server` is set to `true`, TCP port from which the RTCM messages will be served. It defaults to 2101. | Optional |
| `rtcm_station_id` | Station ID reported in the generated RTCM messages. It defaults to 1234. | Optional |
| `rtcm_MT1045_rate_ms` |  Rate at which RTCM Message Type 1045 (Galileo Ephemeris data) will be generated, in ms. It defaults to 5000 ms.  | Optional |
| `rtcm_MSM_rate_ms` |  Rate at which RTCM Multiple Signal Messages Galileo MSM7 (MT1097 - Full Galileo observations) will be generated, in ms. It defaults to 1000 ms. | Optional |
| `flag_rtcm_tty_port` | [`true`, `false`]: If set to `true`, the generated RTCM messages are also sent to a serial port device. It defaults to `false`. | Optional |
| `rtcm_dump_devname` |  If `flag_rtcm_tty_port` is set to `true`, descriptor of the serial port device. . It defaults to `/dev/pts/1`. | Optional |
| `dump` |  [`true`, `false`]: if set to `true`, it enables the PVT internal binary data file logging. It defaults to `false`. | Optional |
| `dump_filename` |  If `dump` is set to `true`, name of the file in which internal data will be stored. It defaults to `./pvt.dat`. | Optional |
|----------

### Implementation: `Hybrid_PVT`
This is an experimental _PVT_ implementation taht computes position fixes usign both GPS L1 C/A and Galileo E1B signals, and a basic, memoryless Least Squares solution. Those solutions are exported to KML and GeoJSON formats for their graphical representation.

If configured, this block delivers NMEA messages in real-time through a serial port.

If configured, this block also generates RTCM messages in real-time, delivered through a TCP server (**still experimental**).


Parameters:

|----------
|  **Global Parameter**  |  **Description** | **Type** |
|:-:|:--|:-:|    
|--------------
| `GNSS-SDR.SUPL_gps_ephemeris_xml` |  Name of an XML file containing GPS ephemeris data. It defaults to `./gps_ephemeris.xml` | Optional |
|--------------

|----------
|  **Parameter**  |  **Description** | **Type** |
|:-:|:--|:-:|    
|--------------
| `flag_averaging` |  Perfoms averaging over the internally generated results before outputting them. It defaults to `false`. | Optional |
| `averaging_depth` | If `flag_averaging` is set to `true`, size of the buffer performing a moving average. It defaults to 10. | Optional |
| `output_rate_ms` |  Rate at which PVT solutions will be computed, in ms. It defaults to 500 ms. | Optional |
| `display_rate_ms` |  Rate at which PVT solutions will be displayed in the terminal, in ms. It defaults to 500 ms. | Optional |
| `nmea_dump_filename` | Name of the file containing the generated NMEA sentences in ASCII format. It defaults to `./nmea_pvt.nmea`. | Optional |
| `flag_nmea_tty_port` | [`true`, `false`]: If set to `true`, the NMEA sentences are also sent to a serial port device. It defaults to `false`. | Optional |
| `nmea_dump_devname` | If `flag_nmea_tty_port` is set to `true`, descriptor of the serial port device.  It defaults to `/dev/tty1`. | Optional |
| `flag_rtcm_server` |  [`true`, `false`]: If set to `true`, it runs up a TCP server that is serving RTCM messages to the connected clients during the execution of the software receiver. It defaults to `false`. | Optional |
| `rtcm_tcp_port` | If `flag_rtcm_server` is set to `true`, TCP port from which the RTCM messages will be served. It defaults to 2101. | Optional |
| `rtcm_station_id` | Station ID reported in the generated RTCM messages. It defaults to 1234. | Optional |
| `rtcm_MT1045_rate_ms` | Rate at which RTCM Message Type 1045 (Galileo Ephemeris data) will be generated, in ms. It defaults to 5000 ms. It defaults to 5000 ms. | Optional |
| `rtcm_MT1019_rate_ms` | Rate at which RTCM Message Type 1019 (GPS Ephemeris data) will be generated, in ms. It defaults to 5000 ms. It defaults to 5000 ms. | Optional |
| `rtcm_MSM_rate_ms` |  Default rate at which RTCM Multiple Signal Messages will be generated. It defaults to 1000 ms. | Optional |
| `rtcm_MT1077_rate_ms` | Rate at which RTCM Multiple Signal Messages GPS MSM7 (MT1077 - Full GPS observations) will be generated, in ms. It defaults to `rtcm_MSM_rate_ms`. | Optional |
| `rtcm_MT1097_rate_ms` | Rate at which RTCM Multiple Signal Messages Galileo MSM7 (MT1097 - Full Galileo observations) will be generated, in ms. It defaults to `rtcm_MSM_rate_ms`.  | Optional |
| `flag_rtcm_tty_port` | [`true`, `false`]: If set to `true`, the generated RTCM messages are also sent to a serial port device. It defaults to `false`. | Optional |
| `rtcm_dump_devname` |  If `flag_rtcm_tty_port` is set to `true`, descriptor of the serial port device. . It defaults to `/dev/pts/1`. | Optional |
| `dump` |  [`true`, `false`]: if set to `true`, it enables the PVT internal binary data file logging. It defaults to `false`. | Optional |
| `dump_filename` |  If `dump` is set to `true`, name of the file in which internal data will be stored. It defaults to `./pvt.dat`. | Optional |
|----------
